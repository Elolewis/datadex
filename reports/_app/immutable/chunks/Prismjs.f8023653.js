import{B as R,f as z,i as L,a as U,s as M,b as P,C as V,P as h}from"./Prismjs.svelte_svelte_type_style_lang.e14c6d85.js";import{N as D,S as E,i as I,s as b,e as g,O as C,c as _,b as d,P as m,f as u,E as f,h as v,j as c,n as T,t as x,d as w,Q as j,R as k}from"./index.391e6c2f.js";import{b as q}from"./index.e813fd23.js";function B(e,...t){if(typeof e=="function")throw new Error("You must supply the data as the first argument to tidy()");let r=e;for(const n of t)n&&(r=n(r));return r}function G(e){return r=>{const n=[];for(const s of r){const a={...s};for(const i in e){const l=e[i],o=typeof l=="function"?l(a):l;a[i]=o}n.push(a)}return n}}function O(e){if(e&&typeof e=="string"){let t=e.split(" ");e.includes(":")||(e=e+"T00:00:00"),t.length>2&&(e=t[0]+" "+t[1]);const r=/\.([^\s]+)/;e=e.replace(r,""),e=e.replace("Z",""),e=e.replace(" ","T")}return e}function ee(e,t){return e=B(e,G({[t]:r=>O(r[t])})),e}const N="axis",p="value",X=()=>D(V).getCustomFormats()||[],te=(e,t,r)=>{let n=K(e);if(t.evidenceType==="string")return;if(n){let a=X(),i=[...R,...a].find(l=>{var o;return((o=l.formatTag)==null?void 0:o.toLowerCase())===(n==null?void 0:n.toLowerCase())});if(i)return i}let s=z(e,t,r);if(s)return s},re=(e,t=void 0,r=void 0)=>{try{return y(e,t,r,p)}catch(n){return console.warn(`Unexpected error calling applyFormatting(${e}, ${t}, ${p}, ${r}). Error=${n}`),e}},ne=(e,t=void 0,r=void 0)=>{try{return y(e,t,r,N)}catch{}return e},se=(e,t)=>{let r=e;if(e&&(t!=null&&t.formatTag)){let n=e.toLowerCase().lastIndexOf(`_${t.formatTag.toLowerCase()}`),s="";n>0&&(typeof(t==null?void 0:t.titleTagReplacement)=="string"&&(s=t.titleTagReplacement),r=e.substring(0,n)+s)}return r},H=e=>{switch(e){case"number":return 1234;case"date":return"2022-01-03";default:return}},ae=e=>{var n,s;let r=((n=e.userInput)==null?void 0:n.trim())||e.exampleInput||H(e.valueType);if(r)try{let a;if(e.valueType==="number"){let i=Number(r);a={min:i,max:i,median:i,maxDecimals:((s=i.toString().split(".")[1])==null?void 0:s.length)||0,unitType:"number"}}return y(r,e,a,p)}catch{}return""};function y(e,t=void 0,r=void 0,n=p){if(e==null)return"-";let s;if(t)try{let a=Y(t,n),i;try{t.valueType==="date"&&typeof e=="string"?i=new Date(O(e)):t.valueType==="number"&&typeof e!="number"&&!Number.isNaN(e)?i=Number(e):i=e}catch{i=e}if(L(t,a))try{s=U(i,t,r)}catch(l){console.warn(`Unexpected error applying auto formatting. Error=${l}`)}else s=M.format(a,i)}catch(a){console.warn(`Unexpected error applying formatting ${a}`)}return s===void 0&&(s=P(e)),s}function Y(e,t=p){return typeof e=="string"?e:t===N&&(e!=null&&e.axisFormatCode)?e.axisFormatCode:e==null?void 0:e.formatCode}function K(e){let t=e.toLowerCase(),r=t.lastIndexOf("_");if(r>0)return t.substr(r).replace("_","")}function Q(e){let t,r,n;return{c(){t=g("span"),r=C("svg"),n=C("path"),this.h()},l(s){t=_(s,"SPAN",{"aria-expanded":!0,class:!0});var a=d(t);r=m(a,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var i=d(r);n=m(i,"path",{fill:!0,"fill-rule":!0,d:!0}),d(n).forEach(u),i.forEach(u),a.forEach(u),this.h()},h(){f(n,"fill",e[1]),f(n,"fill-rule","evenodd"),f(n,"d","M6.22 3.22a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06L9.94 8 6.22 4.28a.75.75 0 010-1.06z"),f(r,"viewBox","0 0 16 16"),f(r,"width",e[2]),f(r,"height",e[2]),f(r,"class","svelte-c6mrxw"),f(t,"aria-expanded",e[0]),f(t,"class","svelte-c6mrxw")},m(s,a){v(s,t,a),c(t,r),c(r,n)},p(s,[a]){a&2&&f(n,"fill",s[1]),a&4&&f(r,"width",s[2]),a&4&&f(r,"height",s[2]),a&1&&f(t,"aria-expanded",s[0])},i:T,o:T,d(s){s&&u(t)}}}function S(e,t,r){let{toggled:n=!1}=t,{color:s="#2d2d2d"}=t,{size:a=10}=t;return e.$$set=i=>{"toggled"in i&&r(0,n=i.toggled),"color"in i&&r(1,s=i.color),"size"in i&&r(2,a=i.size)},[n,s,a]}class ie extends E{constructor(t){super(),I(this,t,S,Q,b,{toggled:0,color:1,size:2})}}function Z(e){let t,r,n,s=h.highlight(e[0],h.languages.sql)+"",a,i;return{c(){t=g("pre"),r=x("  "),n=g("code"),a=x(`
`),this.h()},l(l){t=_(l,"PRE",{class:!0});var o=d(t);r=w(o,"  "),n=_(o,"CODE",{class:!0});var A=d(n);A.forEach(u),a=w(o,`
`),o.forEach(u),this.h()},h(){f(n,"class","language-sql svelte-isi8vj"),f(t,"class","svelte-isi8vj")},m(l,o){v(l,t,o),c(t,r),c(t,n),n.innerHTML=s,c(t,a)},p(l,[o]){o&1&&s!==(s=h.highlight(l[0],h.languages.sql)+"")&&(n.innerHTML=s)},i(l){i||j(()=>{i=k(t,q,{}),i.start()})},o:T,d(l){l&&u(t)}}}function J(e,t,r){let{code:n=""}=t;return e.$$set=s=>{"code"in s&&r(0,n=s.code)},[n]}class le extends E{constructor(t){super(),I(this,t,J,Z,b,{code:0})}}export{ie as C,le as P,se as a,re as b,ae as c,H as d,ne as f,te as l,G as m,ee as s,B as t};
